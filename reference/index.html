<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reference | Alpine AJAX</title>
  <meta name="description" content="Alpine AJAX">
  <meta name="generator" content="Eleventy v2.0.1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism-themes@1.9.0/themes/prism-a11y-dark.min.css">
  <link rel="stylesheet" href="/css/main.css?id=4">
  <style></style>
  
  <script defer src="/js/main.js"></script>
  <script>class DetailsForceState extends HTMLElement {
    constructor() {
      super();
      this._observer = new MutationObserver(this._init.bind(this));
    }

    connectedCallback() {
      if (this.children.length) {
        this._init();
      }
      this._observer.observe(this, { childList: true });
    }

    _init() {
      let details = this.querySelector(":scope details");
      if (!details) {
        return;
      }

      let forceOpen = window.getComputedStyle(details).getPropertyValue("--details-force-closed");

      function forceState(isOpen) {
        if (isOpen) {
          details.setAttribute("open", "open");
        } else {
          details.removeAttribute("open");
        }
      }

      if (forceOpen && "matchMedia" in window) {
        let mm1 = window.matchMedia(forceOpen);
        forceState(!mm1.matches);
        mm1.addListener(function (e) {
          forceState(!e.matches);
        });
      }
    }
  }

  if ("customElements" in window) {
    customElements.define("details-force-state", DetailsForceState);
  }</script>
</head>


<body>
  <a href="#main">Skip to content</a>
  <div class="with-sidebar">
    <header>
      <nav aria-label="Site">
  <ul role="list">
    <li><a href="/" aria-current>Alpine AJAX</a></li>
    <li>
      <a href="/reference" aria-current="page">Reference</a>
      <details-force-state>
        <details>
          <summary>Jump to...</summary>
          <ol>
            <li><a href="/reference/#installation">Installation</a></li>
            <li><a href="/reference/#usage">Usage</a></li>
            <li><a href="/reference/#x-target">x-target</a></li>
            <li><a href="/reference/#x-arrange">x-arrange</a></li>
            <li><a href="/reference/#x-focus">x-focus</a></li>
            <li><a href="/reference/#x-sync">x-sync</a></li>
            <li><a href="/reference/#ajax">$ajax</a></li>
            <li><a href="/reference/#ajax-events">AJAX Events</a></li>
            <li><a href="/reference/#loading-states">Loading States</a></li>
            <li><a href="/reference/#creating-demos">Creating Demos</a></li>
          </ol>
        </details>
      </details-force-state>
    </li>
    <li>
      <a href="/examples" aria-current>Examples</a>
      
    </li>
    <li>
      <a href="/comparisons" aria-current>Comparisons</a>
      
    </li>
    <li><a href="https://github.com/imacrayon/alpine-ajax/releases">Changelog</a></li>
    <li><a href="https://github.com/imacrayon/alpine-ajax">GitHub</a></li>
  </ul>
</nav>



    </header>
    <main id="main"><h1 id="reference" tabindex="-1">Reference <a class="direct-link" href="#reference" aria-hidden="true">#</a></h1>
<h2 id="installation" tabindex="-1">Installation <a class="direct-link" href="#installation" aria-hidden="true">#</a></h2>
<p>You can use Alpine AJAX by either including it from a <code>&lt;script&gt;</code> tag or installing it via NPM.</p>
<h3 id="via-cdn" tabindex="-1">Via CDN <a class="direct-link" href="#via-cdn" aria-hidden="true">#</a></h3>
<p>Include the CDN build of Alpine AJAX as a <code>&lt;script&gt;</code> tag, just make sure to include it <strong>before</strong> Alpine's core JS file.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">defer</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/@imacrayon/alpine-ajax@0.2.1/dist/cdn.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">defer</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/alpinejs@3.11.1/dist/cdn.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<h3 id="via-npm" tabindex="-1">Via NPM <a class="direct-link" href="#via-npm" aria-hidden="true">#</a></h3>
<p>Install Alpine AJAX from NPM for use inside your bundle like so:</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> i @imacrayon/alpine-ajax</code></pre>
<p>Then initialize it from your bundle:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> Alpine <span class="token keyword">from</span> <span class="token string">'alpinejs'</span><br><span class="token keyword">import</span> ajax <span class="token keyword">from</span> <span class="token string">'@imacrayon/alpine-ajax'</span><br><br>window<span class="token punctuation">.</span>Alpine <span class="token operator">=</span> Alpine<br>Alpine<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span>ajax<span class="token punctuation">)</span></code></pre>
<h2 id="usage" tabindex="-1">Usage <a class="direct-link" href="#usage" aria-hidden="true">#</a></h2>
<p>Itâ€™s good practice to start building your UI <strong>without</strong> Alpine AJAX. Make your entire website work as it would if Alpine AJAX were not available, then sprinkle in AJAX functionality at the end. Working in this way will ensure that your AJAX interactions degrade gracefully <a href="https://www.kryogenix.org/code/browser/everyonehasjs.html">when JavaScript is not available</a>: Links and forms will continue to work as normal, they simply won't fire AJAX requests. This is known as <a href="https://developer.mozilla.org/en-US/docs/Glossary/Progressive_Enhancement">Progressive Enhancement</a>, and it allows a wider audience to use your website.</p>
<h2 id="x-target" tabindex="-1">x-target <a class="direct-link" href="#x-target" aria-hidden="true">#</a></h2>
<p>Add the <code>x-target</code> attribute to forms or links to enable AJAX behavior. The value of <code>x-target</code> should equal the <code>id</code> of an element on the page that the form or link should target.</p>
<p>Take a look at the following comment list markup, notice the <code>x-target=&quot;comments&quot;</code> attribute on the <code>&lt;form&gt;</code>:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comments<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Comment #1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">x-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comments<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/comment<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Comment text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre>
<p>When the form is submitted a <code>POST</code> request is issued to <code>/comment</code> and the <code>#comments</code> list will be replaced with the element that has <code>id=&quot;comments&quot;</code> in the AJAX request's response.</p>
<h3 id="multiple-targets" tabindex="-1">Multiple Targets <a class="direct-link" href="#multiple-targets" aria-hidden="true">#</a></h3>
<p>You can replace multiple elements from a single server response by separating <code>id</code>s with a space.</p>
<p>Here's an expanded comment list example:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Comments (<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comments_count<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comments<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Comment #1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">x-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comments comments_count<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/comment<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment<span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre>
<p>Now, when the form is submitted, both the <code>#comments</code> list, and the <code>#comments_count</code> indicator will be updated.</p>
<h3 id="target-shorthand" tabindex="-1">Target Shorthand <a class="direct-link" href="#target-shorthand" aria-hidden="true">#</a></h3>
<p>In cases when a form or link targets itself, you may leave the value of <code>x-target</code> blank, however the form or link must still have an <code>id</code>:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">x-target</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>star_repo<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/repos/1/star<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Star Repository<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre>
<h2 id="x-arrange" tabindex="-1">x-arrange <a class="direct-link" href="#x-arrange" aria-hidden="true">#</a></h2>
<p>Use <code>x-arrange</code> to control how targeted elements will handle incoming AJAX content. By default, incoming content will <code>replace</code> a targeted element, instead you can choose one of the 7 other options for arranging content:</p>
<div class="table">
<table>
  <thead>
    <th scope="col" width="60">Option</th>
    <th scope="col">Description</th>
  </thead>
  <tbody>
  <tr>
    <td><code>before</code></td>
    <td>Inserts the content of the incoming element before the target element.</td>
  </tr>
  <tr>
    <td><code>replace</code></td>
    <td><strong>(Default)</strong> Replaces the target element with the incoming element.</td>
  </tr>
  <tr>
    <td><code>update</code></td>
    <td>Updates the target element's content with the incoming element's content.</td>
  </tr>
  <tr>
    <td><code>prepend</code></td>
    <td>Prepends the target element's content with the incoming element's content.</td>
  </tr>
  <tr>
    <td><code>append</code></td>
    <td>Appends the target element's content with the incoming element's content.</td>
  </tr>
  <tr>
    <td><code>after</code></td>
    <td>Inserts the content of the incoming element after the target element.</td>
  </tr>
  <tr>
    <td><code>remove</code></td>
    <td>Removes the target element from the DOM.</td>
  </tr>
  <tr>
    <td><code>morph</code></td>
    <td>Morphs the incoming element into the target element using the <a href="https://alpinejs.dev/plugins/morph">Alpine Morph Plugin</a>.</td>
  </tr>
  </tbody>
</table>
</div>
<p>The <code>morph</code> option uses a DOM diffing algorithm to update HTML, it's a bit more computationally intensive, but it works great in situations where you need to preserve your Alpine component's state and keyboard focus. In contrast, the <code>replace</code>, <code>update</code>, and <code>remove</code> options will each wipe away DOM state with fresh HTML.</p>
<h2 id="x-focus" tabindex="-1">x-focus <a class="direct-link" href="#x-focus" aria-hidden="true">#</a></h2>
<p>Add <code>x-focus</code> to a form or link to control keyboard focus after an AJAX request has completed. The <code>x-focus</code> attribute accepts an element <code>id</code> that will be focused. Consider the following markup, we'll assume that clicking the &quot;Edit&quot; link will load a form to change the listed email address:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">x-target</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>contact_1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>fmertens@candykingdom.gov<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/contacts/1/edit<span class="token punctuation">"</span></span> <span class="token attr-name">x-focus</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email_field<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Edit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>The <code>x-focus</code> attribute on the &quot;Edit&quot; link ensures that the element with <code>id=&quot;email_field&quot;</code> will be focused after the requested edit form is injected onto the page.</p>
<p>Controlling focus is important for providing <a href="https://www.w3.org/TR/WCAG21/#meaningful-sequence">meaningful sequencing</a> and <a href="https://www.w3.org/TR/WCAG21/#focus-order">focus order</a> for keyboard users, however, take care not to overuse focus control. This attribute should primarily be used to prevent the keyboard focus from disappearing when page content changes.</p>
<p>It's worth noting that <code>x-arrange=&quot;morph&quot;</code> is another way to preserve keyboard focus between content changes. However, there are cases when the DOM is transformed so much that the Morph algorithm is unable to reliably preserve focus state. In theses situations <code>x-focus</code> can correct any focus discrepancies.</p>
<h2 id="x-sync" tabindex="-1">x-sync <a class="direct-link" href="#x-sync" aria-hidden="true">#</a></h2>
<p>Elements with the <code>x-sync</code> attribute are updated whenever the server sends a matching element, even if the element isn't targeted with <code>x-target</code>.</p>
<p><code>x-sync</code> elements must have a unique <code>id</code>. Any element sent from the server with a matching <code>id</code> will replace the existing <code>x-sync</code> element.</p>
<p>Use cases for this attribute are unread message counters or notification flashes. These elements often live in the base layout, outside of the content area that is being replaced.</p>
<p>Consider this list of notifications:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">aria-live</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>polite<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">x-sync</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>notifications<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>Every server response that includes an element with <code>id=&quot;notifications&quot;</code> will replace the existing list of notifications inside the <code>aria-live</code> region. Take a look at the <a href="/examples/notifications">Notifications example</a> for a complete demonstration of this UI pattern.</p>
<h2 id="ajax" tabindex="-1">$ajax <a class="direct-link" href="#ajax" aria-hidden="true">#</a></h2>
<p>The <code>$ajax</code> magic helper is for finer-grained AJAX control. Use it to programmatically issue AJAX requests in response to events. Here we've wired it up to an input's <code>change</code> event to perform some server-side validation for an email:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email_field<span class="token punctuation">"</span></span> <span class="token attr-name">x-data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{email : ''}<span class="token punctuation">"</span></span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$ajax('/validate-email', {<br>  method: 'post',<br>  body: { email },<br>})<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Email<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">x-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>In this example we make a <code>POST</code> request with the <code>email</code> value to the <code>/validate-email</code> endpoint. See the <a href="/examples/inline-validation">Inline Validation example</a> for a complete demonstration.</p>
<p><strong>Note:</strong> Since <code>$ajax</code> is intended to be used in side effects it doesn't emit any events or target <code>x-sync</code> elements like <code>x-target</code>. However, you can change these defaults using the <code>$ajax</code> options.</p>
<h3 id="ajax-options" tabindex="-1">$ajax options <a class="direct-link" href="#ajax-options" aria-hidden="true">#</a></h3>
<div class="table">
<table>
  <thead>
    <th scope="col" width="68">Option</th>
    <th scope="col" width="60">Default</th>
    <th scope="col">Description</th>
  </thead>
  <tbody>
  <tr>
    <td><code>method</code></td>
    <td><code>'GET'</code></td>
    <td>The request method.</td>
  </tr>
  <tr>
    <td><code>target</code></td>
    <td><code>''</code></td>
    <td>The request target. If this is empty <code>x-target</code> is used.</td>
  </tr>
  <tr>
    <td><code>body</code></td>
    <td><code>{}</code></td>
    <td>The request body.</td>
  </tr>
  <tr>
    <td><code>events</code></td>
    <td><code>false</code></td>
    <td>Setting this to <code>true</code> will fire AJAX request events.</td>
  </tr>
  <tr>
    <td><code>sync</code></td>
    <td><code>false</code></td>
    <td>Setting this to <code>true</code> will include <code>x-sync</code> targets in the request.</td>
  </tr>
  </tbody>
</table>
</div>
<h2 id="ajax-events" tabindex="-1">AJAX Events <a class="direct-link" href="#ajax-events" aria-hidden="true">#</a></h2>
<p>You can listen for AJAX events to perform additional actions during an AJAX request:</p>
<div class="table">
<table>
  <thead>
    <th scope="col" width="117">Name</th>
    <th scope="col">Description</th>
  </thead>
  <tbody>
  <tr>
    <td><code>ajax:before</code></td>
    <td>Fired before a network request is made. If this event is canceled using <code>$event.preventDefault()</code> the request will be aborted.</td>
  </tr>
  <tr>
    <td><code>ajax:success</code></td>
    <td>Fired when a network request completes. <code>detail</code> contains the server response data.</td>
  </tr>
  <tr>
    <td><code>ajax:error</code></td>
    <td>Fired when a request responds with a `400` or `500` status code. <code>detail</code> contains the server response data.</td>
  </tr>
  <tr>
    <td><code>ajax:after</code></td>
    <td>Fired after every successful or unsuccessful request.</td>
  </tr>
  <tr>
    <td><code>ajax:missing</code></td>
    <td>Fired if a matching target is not found in the response body. <code>detail</code> contains the server response data. You may cancel this event using <code>$event.preventDefault()</code> to override the default behavior.</td>
  </tr>
  </tbody>
</table>
</div>
<p>Here's an example of aborting a form request when the user cancels a dialog prompt:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>delete_user<span class="token punctuation">"</span></span> <span class="token attr-name">x-init</span> <span class="token attr-name">x-target</span> <span class="token attr-name"><span class="token namespace">@ajax:</span>before</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>confirm('Are you sure?') || $event.preventDefault()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Delete User<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre>
<p><strong>Note:</strong> The <code>ajax:success</code> and <code>ajax:error</code> events only convey the status code of an AJAX request. You'll probably find that <a href="/examples/server-events/">Server Events</a> are better for triggering actions based on your server's response.</p>
<h2 id="loading-states" tabindex="-1">Loading States <a class="direct-link" href="#loading-states" aria-hidden="true">#</a></h2>
<p>While an AJAX request is in progress there are a few loading states to be aware of:</p>
<ul>
<li>If a form submission triggered the request, the form's submit button is automatically disabled, this prevents users from triggering additional network requests by accidentally double clicking the submit button.</li>
<li>During an AJAX request, <code>aria-busy=&quot;true&quot;</code> is set on all targets of the request. This attribute can be used in CSS to provide a loading indicator, check out the <a href="/examples/loading">Loading Indicator example</a> for more details.</li>
</ul>
<h2 id="creating-demos" tabindex="-1">Creating Demos <a class="direct-link" href="#creating-demos" aria-hidden="true">#</a></h2>
<p>Use the mock server script included with Alpine AJAX when you need to build a quick prototype or demonstrate a bug, without a server. The mock server script adds a global <code>route</code> helper function for mocking server endpoints on the frontend:</p>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!--<br>Include the typical required scripts before the mock server:<br>&lt;script defer src="https://cdn.jsdelivr.net/npm/@imacrayon/alpine-ajax@0.2.1/dist/cdn.min.js">&lt;/script><br>&lt;script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.11.1/dist/cdn.min.js">&lt;/script><br>--></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/@imacrayon/alpine-ajax@0.2.1/dist/server.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><br><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token string">'/update-quantity'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;output id="current_quantity"></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">Number</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>quantity<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/output></span><span class="token template-punctuation string">`</span></span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><br></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>current_quantity<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Current quantity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>output</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>current_quantity<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>output</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">x-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>current_quantity<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/update-quantity<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">form</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>quantity<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>New quantity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>quantity<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>quantity<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Update<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre>
<p>Now, instead of issuing a real <code>POST</code> request to <code>/update-quantity</code>, Alpine AJAX will use the HTML returned in our route definition as the response. Note that any form data included in the AJAX request is made available too you in the <code>route</code> function.</p>
<details>
  <summary>Mock server example on CodePen</summary>
  <div>
    <p class="codepen" data-height="300" data-default-tab="html,result" data-slug-hash="NWLZOrP" data-user="imacrayon" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
      <span>See the Pen <a href="https://codepen.io/imacrayon/pen/NWLZOrP">
      Alpine AJAX Demo</a> by Christian Taylor (<a href="https://codepen.io/imacrayon">@imacrayon</a>)
      on <a href="https://codepen.io">CodePen</a>.</span>
    </p>
    <script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script>
  </div>
</details>
<p><strong>Important</strong>: The mock server should only be used for demos and testing, this utility is not designed for production environments.</p>
</main>
  </div>



</body>
</html>