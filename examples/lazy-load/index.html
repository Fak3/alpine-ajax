<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lazy Loading | Alpine AJAX</title>
  <meta name="description" content="Alpine AJAX">
  <meta name="generator" content="Eleventy v2.0.0">
  <meta name="google-site-verification" content="KhOCyk8VyxCmepwpHn1DYq6uIPae0czI_8Z1atrRwJM">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism-themes@1.9.0/themes/prism-a11y-dark.min.css">
  <link rel="stylesheet" href="/alpine-ajax/css/main.css?id=3">
  <script defer="" src="/alpine-ajax/js/main.js"></script>
  <style></style>
  <script></script>
</head>

<body>
  <a href="#main">Skip to content</a>
  <div class="with-sidebar">
    <header>
      <nav aria-label="Site">
        <ul role="list">
          <li><a href="/alpine-ajax/" aria-current="">Alpine AJAX</a></li>
          <li>
            <a href="/alpine-ajax/reference" aria-current="">Reference</a>
            <ol>
              <li><a href="/alpine-ajax/reference/#installation" aria-current="">Installation</a></li>
              <li><a href="/alpine-ajax/reference/#usage" aria-current="">Usage</a></li>
              <li><a href="/alpine-ajax/reference/#x-ajax" aria-current="">x-ajax</a></li>
              <li><a href="/alpine-ajax/reference/#ajax" aria-current="">$ajax</a></li>
              <li><a href="/alpine-ajax/reference/#x-sync" aria-current="">x-sync</a></li>
              <li><a href="/alpine-ajax/reference/#x-load" aria-current="">x-load</a></li>
              <li><a href="/alpine-ajax/reference/#loading-states" aria-current="">Loading States</a></li>
              <li><a href="/alpine-ajax/reference/#creating-demos" aria-current="">Creating Demos</a></li>
            </ol>
          </li>
          <li><a href="/alpine-ajax/examples" aria-current="">Examples</a></li>
          <li><a href="/alpine-ajax/comparisons" aria-current="">Comparisons</a></li>
          <li><a href="https://github.com/imacrayon/alpine-ajax/releases">Changelog</a></li>
          <li><a href="https://github.com/imacrayon/alpine-ajax">GitHub</a></li>
        </ul>
      </nav>
    </header>
    <main id="main"><script src="/alpine-ajax/js/server.js"></script>
<h1 id="lazy-loading" tabindex="-1">Lazy Loading <a class="direct-link" href="#lazy-loading" aria-hidden="true">#</a></h1>

<p>This example shows how to lazily load an element on a page.</p>
<p>We start with a loading indicator inside an <code>&lt;article&gt;</code>. Note that the article is assigned <code>id=&quot;post&quot;</code> :</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">x-init</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$ajax('/posts/1')<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loader<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Loading content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span></code></pre>
<p>This loading indicator will exist on the page while we fetch the articles's content. You can use any CSS or SVG magic you'd like to create a fancy looking loading indicator.</p>
<p>The loaded content is then inserted into the UI once the request has succeeded:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">></span></span><br>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span></code></pre>
<style>
  .loader {
    animation: loading 1s linear infinite;
    background-image: linear-gradient(90deg, var(--nc-bg-1), var(--nc-bg-2), var(--nc-bg-3), var(--nc-bg-1), var(--nc-bg-2));
    background-size: 600% 100%;
  }

  .loader svg {
    display: block;
  }

  @keyframes loading {
    0% {
      background-position: 100% 0%;
    }

    100% {
      background-position: 0% 0%;
    }
  }

  article {
    box-shadow: 0 10px 15px -3px var(--shadow), 0 4px 6px -4px var(--shadow);
    padding: 1rem;
    border-radius: .5rem;
  }

  article header {
    all: inherit;
    box-shadow: none;
    padding: 0;
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  article header svg {
    border-radius: 100px;
    background: var(--nc-bg-3);
    color: var(--nc-lk-1);
  }

  article header p,
  article header time {
    margin: 0;
  }

  article header time {
    font-size: .875em;
  }

</style>
<script>
  window.route('GET', '/posts', () => dashboard())
  window.route('GET', '/posts/1', () => new Promise(resolve => {
    setTimeout(() => resolve(post()), 2000)
  }))

  example('/posts')

  function dashboard() {
    return `<p>Refresh the page to watch this post lazy load into view:</p>
<article id="post" x-init="$ajax('/posts/1')">
  <svg class="loader" aria-label="Loading content" viewBox="0 0 442 107" fill="var(--nc-bg-1)" xmlns="http://www.w3.org/2000/svg">
    <path d="M442 79.1H0V65.5h412.4v-7.1H0V0h442v79.1Zm0 7.1V107H181.2v-7.1H0V86.2h442ZM50.1 24.6v7.2h53.3v-7.2H50.1Zm0-16.8v7.1h89.3V7.8H50.1ZM19.3 38.9c10.6 0 19.2-8.7 19.2-19.4C38.5 8.7 30 0 19.3 0A19.4 19.4 0 0 0 0 19.5c0 10.7 8.6 19.4 19.3 19.4Z" />
  </svg>
</article>`
  }

  function post() {
    return `<article id="post">
  <header>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="64" height="64">
      <path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd" />
    </svg>
    <div>
      <p><strong>Finn Mertins</strong></p>
      <time>2 hours ago</time>
    </div>
  </header>
  <p>I'll fly the paper, as an airplane, down the bedroom ladder. It'll triple barrel-roll past the kitchen, open the fridge, and cook some eggs; then eat the eggs and unfold itself as it lays on the carpet in front of Marceline's door.</p>
</article>`
  }
</script>

<h2 id="demo" tabindex="-1">Demo <a class="direct-link" href="#demo" aria-hidden="true">#</a></h2>


</main>
  </div>



</body>
</html>