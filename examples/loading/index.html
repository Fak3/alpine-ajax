<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loading Indicator | Alpine AJAX</title>
  <meta name="description" content="Alpine AJAX">
  <meta name="generator" content="Eleventy v2.0.0">
  <meta name="google-site-verification" content="KhOCyk8VyxCmepwpHn1DYq6uIPae0czI_8Z1atrRwJM">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism-themes@1.9.0/themes/prism-a11y-dark.min.css">
  <link rel="stylesheet" href="/alpine-ajax/css/main.css?id=3">
  <script defer="" src="/alpine-ajax/js/main.js"></script>
  <style></style>
  <script></script>
</head>

<body>
  <a href="#main">Skip to content</a>
  <div class="with-sidebar">
    <header>
      <nav aria-label="Site">
        <ul role="list">
          <li><a href="/alpine-ajax/" aria-current="">Alpine AJAX</a></li>
          <li>
            <a href="/alpine-ajax/reference" aria-current="">Reference</a>
            <ol>
              <li><a href="/alpine-ajax/reference/#installation" aria-current="">Installation</a></li>
              <li><a href="/alpine-ajax/reference/#usage" aria-current="">Usage</a></li>
              <li><a href="/alpine-ajax/reference/#x-ajax" aria-current="">x-ajax</a></li>
              <li><a href="/alpine-ajax/reference/#ajax" aria-current="">$ajax</a></li>
              <li><a href="/alpine-ajax/reference/#x-sync" aria-current="">x-sync</a></li>
              <li><a href="/alpine-ajax/reference/#x-load" aria-current="">x-load</a></li>
              <li><a href="/alpine-ajax/reference/#loading-states" aria-current="">Loading States</a></li>
              <li><a href="/alpine-ajax/reference/#creating-demos" aria-current="">Creating Demos</a></li>
            </ol>
          </li>
          <li><a href="/alpine-ajax/examples" aria-current="">Examples</a></li>
          <li><a href="/alpine-ajax/comparisons" aria-current="">Comparisons</a></li>
          <li><a href="https://github.com/imacrayon/alpine-ajax/releases">Changelog</a></li>
          <li><a href="https://github.com/imacrayon/alpine-ajax">GitHub</a></li>
        </ul>
      </nav>
    </header>
    <main id="main"><script src="/alpine-ajax/js/server.js"></script>
<h1 id="loading-indicator" tabindex="-1">Loading Indicator <a class="direct-link" href="#loading-indicator" aria-hidden="true">#</a></h1>

<p>This example shows how you can use a little CSS to create a nice looking loading indicator that will appear while AJAX requests are in progress.</p>
<p>We start with a card that contains a link. When the link is clicked, a <code>GET</code> request is issued to retrieve a table of contact information.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">x-ajax</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>table<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/contacts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Load Contacts<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>The contact table could take a long time to load if it is large, so it would be helpful to indicate to our users that the app is processing their request.</p>
<p>Fortunately, Alpine AJAX adds <code>aria-busy=&quot;true&quot;</code> to targets while a request is processing. We can use this attribute in our CSS to automatically show and hide a loading indicator:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">[aria-busy]</span> <span class="token punctuation">{</span><br>  <span class="token property">--loading-size</span><span class="token punctuation">:</span> 64px<span class="token punctuation">;</span><br>  <span class="token property">--loading-stroke</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span><br>  <span class="token property">--loading-duration</span><span class="token punctuation">:</span> 1s<span class="token punctuation">;</span><br>  <span class="token property">opacity</span><span class="token punctuation">:</span> .75<br><span class="token punctuation">}</span><br><span class="token selector">[aria-busy]:before</span> <span class="token punctuation">{</span><br>  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span><br>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span><br>  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span><br>  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span><br>  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--loading-size<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--loading-size<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--loading-size<span class="token punctuation">)</span> / 2 * -1<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--loading-size<span class="token punctuation">)</span> / 2 * -1<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--loading-stroke<span class="token punctuation">)</span> solid <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.15<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span><br>  <span class="token property">border-top-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.5<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">animation</span><span class="token punctuation">:</span> rotate <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--loading-duration<span class="token punctuation">)</span><span class="token punctuation">)</span> linear infinite<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token atrule"><span class="token rule">@keyframes</span> rotate</span> <span class="token punctuation">{</span><br>  <span class="token selector">100%</span> <span class="token punctuation">{</span> <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<style>
  [aria-busy] {
    --loading-size: 64px;
    --loading-stroke: 6px;
    --loading-duration: 1s;
    position: relative;
    opacity: .75
  }
  [aria-busy]:before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: var(--loading-size);
    height: var(--loading-size);
    margin-top: calc(var(--loading-size) / 2 * -1);
    margin-left: calc(var(--loading-size) / 2 * -1);
    border: var(--loading-stroke) solid rgba(0, 0, 0, 0.15);
    border-radius: 50%;
    border-top-color: rgba(0, 0, 0, 0.5);
    animation: rotate calc(var(--loading-duration)) linear infinite;
  }
  @keyframes rotate {
    100% { transform: rotate(360deg); }
  }

  #card {
    box-shadow: 0 10px 15px -3px var(--shadow), 0 4px 6px -4px var(--shadow);
    padding: 1rem;
    border-radius: .5rem;
    display: flex;
    justify-content: center;
    align-items: flex-start;
  }

  #table {
    margin-bottom: 0;
    min-height: 164px
  }

</style>
<script>
  window.route('GET', '/dashboard', () => dashboard())
  window.route('GET', '/contacts', () => new Promise(resolve => {
    setTimeout(() => resolve(contacts()), 2000)
  }))

  example('/dashboard')

  function dashboard() {
    return `<div id="card" x-data>
  <div id="table" x-ajax>
    <a href="/contacts">Load Contacts</a>
  </div>
</div>`
  }

  function contacts(rows) {
    return `<table id="table">
  <thead>
    <tr>
      <th scope="col">Name</th>
      <th scope="col">Email</th>
      <th scope="col">Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Finn</td>
      <td>fmertins@candykingdom.gov</td>
      <td>Active</td>
    </tr>
    <tr>
      <td>Jake</td>
      <td>jake@candykingdom.gov</td>
      <td>Inactive</td>
    </tr>
    <tr>
      <td>BMO</td>
      <td>bmo@moco.com</td>
      <td>Inactive</td>
    </tr>
    <tr>
      <td>Marceline</td>
      <td>marceline@vampirequeen.me</td>
      <td>Active</td>
    </tr>
  </tbody>
</table>`
  }
</script>

<h2 id="demo" tabindex="-1">Demo <a class="direct-link" href="#demo" aria-hidden="true">#</a></h2>


</main>
  </div>



</body>
</html>